{
    "runtime": "python",
    "version": "0.1.37",
    "trace": {
        "name": "run",
        "__time": {
            "start": "2024-11-27T08:02:24.775798",
            "end": "2024-11-27T08:02:28.932507",
            "duration": 4156
        },
        "signature": "__main__.SceneDescriptionAssistant.run",
        "inputs": {
            "question": [
                "a computer screen shot of a blue screen",
                "a computer screen shot of a blue screen",
                "a screen shot of numbers",
                "a close up of a rock",
                "a screen shot of a computer",
                "a computer code on a rock"
            ]
        },
        "__frames": [
            {
                "name": "execute",
                "__time": {
                    "start": "2024-11-27T08:02:24.776304",
                    "end": "2024-11-27T08:02:28.932507",
                    "duration": 4156
                },
                "signature": "prompty.execute",
                "description": "Execute a prompty",
                "inputs": {
                    "prompt": "imagecaption.prompty",
                    "configuration": {},
                    "parameters": {},
                    "inputs": {
                        "question": [
                            "a computer screen shot of a blue screen",
                            "a computer screen shot of a blue screen",
                            "a screen shot of numbers",
                            "a close up of a rock",
                            "a screen shot of a computer",
                            "a computer code on a rock"
                        ]
                    },
                    "raw": false,
                    "config_name": "default"
                },
                "__frames": [
                    {
                        "name": "load",
                        "__time": {
                            "start": "2024-11-27T08:02:24.777336",
                            "end": "2024-11-27T08:02:24.780395",
                            "duration": 3
                        },
                        "signature": "prompty.load",
                        "description": "Load a prompty file.",
                        "inputs": {
                            "prompty_file": "C:\\Users\\whaak\\OneDrive\\Code\\ai-examples\\imagecaption-web\\imagecaption.prompty",
                            "configuration": "default"
                        },
                        "result": {
                            "name": "ExamplePrompt",
                            "description": "A prompt that uses context to ground an incoming question",
                            "authors": [
                                "Wesley Haakman"
                            ],
                            "model": {
                                "api": "chat",
                                "configuration": {
                                    "type": "azure_openai",
                                    "azure_endpoint": "https://ai-spirits-wus.openai.azure.com",
                                    "azure_deployment": "gpt-4",
                                    "api_version": "2024-02-15-preview",
                                    "api_key": "********************************"
                                },
                                "parameters": {
                                    "max_tokens": 3000
                                },
                                "response": {}
                            },
                            "sample": {
                                "question": "Frying pan, fondant, hamburger, whisk, and spatula"
                            },
                            "template": {
                                "type": "jinja2",
                                "parser": "prompty"
                            },
                            "file": "C:/Users/whaak/OneDrive/Code/ai-examples/imagecaption-web/imagecaption.prompty",
                            "content": "system:\nYou are an assistant that based on a prompt will describe the situation. The input you receive are objects detected by a computer vision model. Describe what is happening based on the input.\n\nuser:\n{{question}}\n"
                        }
                    },
                    {
                        "name": "prepare",
                        "__time": {
                            "start": "2024-11-27T08:02:24.780395",
                            "end": "2024-11-27T08:02:24.780906",
                            "duration": 0
                        },
                        "signature": "prompty.prepare",
                        "description": "Prepare the inputs for the prompt.",
                        "inputs": {
                            "prompt": {
                                "name": "ExamplePrompt",
                                "description": "A prompt that uses context to ground an incoming question",
                                "authors": [
                                    "Wesley Haakman"
                                ],
                                "model": {
                                    "api": "chat",
                                    "configuration": {
                                        "type": "azure_openai",
                                        "azure_endpoint": "https://ai-spirits-wus.openai.azure.com",
                                        "azure_deployment": "gpt-4",
                                        "api_version": "2024-02-15-preview",
                                        "api_key": "********************************"
                                    },
                                    "parameters": {
                                        "max_tokens": 3000
                                    },
                                    "response": {}
                                },
                                "sample": {
                                    "question": "Frying pan, fondant, hamburger, whisk, and spatula"
                                },
                                "template": {
                                    "type": "jinja2",
                                    "parser": "prompty"
                                },
                                "file": "C:/Users/whaak/OneDrive/Code/ai-examples/imagecaption-web/imagecaption.prompty",
                                "content": "system:\nYou are an assistant that based on a prompt will describe the situation. The input you receive are objects detected by a computer vision model. Describe what is happening based on the input.\n\nuser:\n{{question}}\n"
                            },
                            "inputs": {
                                "question": [
                                    "a computer screen shot of a blue screen",
                                    "a computer screen shot of a blue screen",
                                    "a screen shot of numbers",
                                    "a close up of a rock",
                                    "a screen shot of a computer",
                                    "a computer code on a rock"
                                ]
                            }
                        },
                        "__frames": [
                            {
                                "name": "Jinja2Renderer",
                                "__time": {
                                    "start": "2024-11-27T08:02:24.780395",
                                    "end": "2024-11-27T08:02:24.780906",
                                    "duration": 0
                                },
                                "signature": "prompty.renderers.Jinja2Renderer.invoke",
                                "inputs": {
                                    "data": {
                                        "question": [
                                            "a computer screen shot of a blue screen",
                                            "a computer screen shot of a blue screen",
                                            "a screen shot of numbers",
                                            "a close up of a rock",
                                            "a screen shot of a computer",
                                            "a computer code on a rock"
                                        ]
                                    }
                                },
                                "result": "system:\nYou are an assistant that based on a prompt will describe the situation. The input you receive are objects detected by a computer vision model. Describe what is happening based on the input.\n\nuser:\n['a computer screen shot of a blue screen', 'a computer screen shot of a blue screen', 'a screen shot of numbers', 'a close up of a rock', 'a screen shot of a computer', 'a computer code on a rock']"
                            },
                            {
                                "name": "PromptyChatParser",
                                "__time": {
                                    "start": "2024-11-27T08:02:24.780906",
                                    "end": "2024-11-27T08:02:24.780906",
                                    "duration": 0
                                },
                                "signature": "prompty.parsers.PromptyChatParser.invoke",
                                "inputs": {
                                    "data": "system:\nYou are an assistant that based on a prompt will describe the situation. The input you receive are objects detected by a computer vision model. Describe what is happening based on the input.\n\nuser:\n['a computer screen shot of a blue screen', 'a computer screen shot of a blue screen', 'a screen shot of numbers', 'a close up of a rock', 'a screen shot of a computer', 'a computer code on a rock']"
                                },
                                "result": [
                                    {
                                        "role": "system",
                                        "content": "You are an assistant that based on a prompt will describe the situation. The input you receive are objects detected by a computer vision model. Describe what is happening based on the input."
                                    },
                                    {
                                        "role": "user",
                                        "content": "['a computer screen shot of a blue screen', 'a computer screen shot of a blue screen', 'a screen shot of numbers', 'a close up of a rock', 'a screen shot of a computer', 'a computer code on a rock']"
                                    }
                                ]
                            }
                        ],
                        "result": [
                            {
                                "role": "system",
                                "content": "You are an assistant that based on a prompt will describe the situation. The input you receive are objects detected by a computer vision model. Describe what is happening based on the input."
                            },
                            {
                                "role": "user",
                                "content": "['a computer screen shot of a blue screen', 'a computer screen shot of a blue screen', 'a screen shot of numbers', 'a close up of a rock', 'a screen shot of a computer', 'a computer code on a rock']"
                            }
                        ]
                    },
                    {
                        "name": "run",
                        "__time": {
                            "start": "2024-11-27T08:02:24.780906",
                            "end": "2024-11-27T08:02:28.932507",
                            "duration": 4151
                        },
                        "signature": "prompty.run",
                        "description": "Run the prepared Prompty content against the model.",
                        "inputs": {
                            "prompt": {
                                "name": "ExamplePrompt",
                                "description": "A prompt that uses context to ground an incoming question",
                                "authors": [
                                    "Wesley Haakman"
                                ],
                                "model": {
                                    "api": "chat",
                                    "configuration": {
                                        "type": "azure_openai",
                                        "azure_endpoint": "https://ai-spirits-wus.openai.azure.com",
                                        "azure_deployment": "gpt-4",
                                        "api_version": "2024-02-15-preview",
                                        "api_key": "********************************"
                                    },
                                    "parameters": {
                                        "max_tokens": 3000
                                    },
                                    "response": {}
                                },
                                "sample": {
                                    "question": "Frying pan, fondant, hamburger, whisk, and spatula"
                                },
                                "template": {
                                    "type": "jinja2",
                                    "parser": "prompty"
                                },
                                "file": "C:/Users/whaak/OneDrive/Code/ai-examples/imagecaption-web/imagecaption.prompty",
                                "content": "system:\nYou are an assistant that based on a prompt will describe the situation. The input you receive are objects detected by a computer vision model. Describe what is happening based on the input.\n\nuser:\n{{question}}\n"
                            },
                            "content": [
                                {
                                    "role": "system",
                                    "content": "You are an assistant that based on a prompt will describe the situation. The input you receive are objects detected by a computer vision model. Describe what is happening based on the input."
                                },
                                {
                                    "role": "user",
                                    "content": "['a computer screen shot of a blue screen', 'a computer screen shot of a blue screen', 'a screen shot of numbers', 'a close up of a rock', 'a screen shot of a computer', 'a computer code on a rock']"
                                }
                            ],
                            "configuration": {},
                            "parameters": {},
                            "raw": false
                        },
                        "__frames": [
                            {
                                "name": "AzureOpenAIExecutor",
                                "__time": {
                                    "start": "2024-11-27T08:02:24.780906",
                                    "end": "2024-11-27T08:02:28.930976",
                                    "duration": 4150
                                },
                                "signature": "prompty.azure.executor.AzureOpenAIExecutor.invoke",
                                "inputs": {
                                    "data": [
                                        {
                                            "role": "system",
                                            "content": "You are an assistant that based on a prompt will describe the situation. The input you receive are objects detected by a computer vision model. Describe what is happening based on the input."
                                        },
                                        {
                                            "role": "user",
                                            "content": "['a computer screen shot of a blue screen', 'a computer screen shot of a blue screen', 'a screen shot of numbers', 'a close up of a rock', 'a screen shot of a computer', 'a computer code on a rock']"
                                        }
                                    ]
                                },
                                "__frames": [
                                    {
                                        "name": "AzureOpenAI",
                                        "__time": {
                                            "start": "2024-11-27T08:02:24.780906",
                                            "end": "2024-11-27T08:02:25.059484",
                                            "duration": 278
                                        },
                                        "type": "LLM",
                                        "signature": "AzureOpenAI.ctor",
                                        "description": "Azure OpenAI Constructor",
                                        "inputs": {
                                            "azure_endpoint": "https://ai-spirits-wus.openai.azure.com",
                                            "azure_deployment": "gpt-4",
                                            "api_version": "2024-02-15-preview",
                                            "api_key": "********************************"
                                        },
                                        "result": "<openai.lib.azure.AzureOpenAI object at 0x000002425BA80890>"
                                    },
                                    {
                                        "name": "create",
                                        "__time": {
                                            "start": "2024-11-27T08:02:25.059484",
                                            "end": "2024-11-27T08:02:28.930976",
                                            "duration": 3871
                                        },
                                        "type": "LLM",
                                        "description": "Azure OpenAI Client",
                                        "signature": "AzureOpenAI.chat.completions.create",
                                        "inputs": {
                                            "model": "gpt-4",
                                            "messages": [
                                                {
                                                    "role": "system",
                                                    "content": "You are an assistant that based on a prompt will describe the situation. The input you receive are objects detected by a computer vision model. Describe what is happening based on the input."
                                                },
                                                {
                                                    "role": "user",
                                                    "content": "['a computer screen shot of a blue screen', 'a computer screen shot of a blue screen', 'a screen shot of numbers', 'a close up of a rock', 'a screen shot of a computer', 'a computer code on a rock']"
                                                }
                                            ],
                                            "max_tokens": 3000
                                        },
                                        "result": {
                                            "id": "chatcmpl-AY6LVAPbcvhXm3OCMNCGk8VT7Uo4F",
                                            "choices": [
                                                {
                                                    "finish_reason": "stop",
                                                    "index": 0,
                                                    "logprobs": null,
                                                    "message": {
                                                        "content": "Based on the objects detected, it seems to be a scene involving computer troubleshooting or error diagnosis, potentially mixed with an unconventional method of data storage or display. There are several computer screens displaying a blue screen error, indicating a crash or serious issue with the computer systems. Additionally, there is a screenshot showing numbers, possibly related to coding, data output, or error codes. Surprisingly, there's also a close-up of a rock with computer code on it, suggesting an unusual or creative representation of data or coding concepts, possibly for educational, artistic, or cryptographic purposes.",
                                                        "refusal": null,
                                                        "role": "assistant",
                                                        "audio": null,
                                                        "function_call": null,
                                                        "tool_calls": null
                                                    },
                                                    "content_filter_results": {
                                                        "hate": {
                                                            "filtered": false,
                                                            "severity": "safe"
                                                        },
                                                        "protected_material_code": {
                                                            "filtered": false,
                                                            "detected": false
                                                        },
                                                        "protected_material_text": {
                                                            "filtered": false,
                                                            "detected": false
                                                        },
                                                        "self_harm": {
                                                            "filtered": false,
                                                            "severity": "safe"
                                                        },
                                                        "sexual": {
                                                            "filtered": false,
                                                            "severity": "safe"
                                                        },
                                                        "violence": {
                                                            "filtered": false,
                                                            "severity": "safe"
                                                        }
                                                    }
                                                }
                                            ],
                                            "created": 1732690909,
                                            "model": "gpt-4-turbo-2024-04-09",
                                            "object": "chat.completion",
                                            "service_tier": null,
                                            "system_fingerprint": "fp_5b26d85e12",
                                            "usage": {
                                                "completion_tokens": 114,
                                                "prompt_tokens": 98,
                                                "total_tokens": 212,
                                                "completion_tokens_details": null,
                                                "prompt_tokens_details": null
                                            },
                                            "prompt_filter_results": [
                                                {
                                                    "prompt_index": 0,
                                                    "content_filter_results": {
                                                        "hate": {
                                                            "filtered": false,
                                                            "severity": "safe"
                                                        },
                                                        "jailbreak": {
                                                            "filtered": false,
                                                            "detected": false
                                                        },
                                                        "self_harm": {
                                                            "filtered": false,
                                                            "severity": "safe"
                                                        },
                                                        "sexual": {
                                                            "filtered": false,
                                                            "severity": "safe"
                                                        },
                                                        "violence": {
                                                            "filtered": false,
                                                            "severity": "safe"
                                                        }
                                                    }
                                                }
                                            ]
                                        },
                                        "__usage": {
                                            "completion_tokens": 114,
                                            "prompt_tokens": 98,
                                            "total_tokens": 212
                                        }
                                    }
                                ],
                                "result": {
                                    "id": "chatcmpl-AY6LVAPbcvhXm3OCMNCGk8VT7Uo4F",
                                    "choices": [
                                        {
                                            "finish_reason": "stop",
                                            "index": 0,
                                            "logprobs": "None",
                                            "message": {
                                                "content": "Based on the objects detected, it seems to be a scene involving computer troubleshooting or error diagnosis, potentially mixed with an unconventional method of data storage or display. There are several computer screens displaying a blue screen error, indicating a crash or serious issue with the computer systems. Additionally, there is a screenshot showing numbers, possibly related to coding, data output, or error codes. Surprisingly, there's also a close-up of a rock with computer code on it, suggesting an unusual or creative representation of data or coding concepts, possibly for educational, artistic, or cryptographic purposes.",
                                                "refusal": "None",
                                                "role": "assistant",
                                                "audio": "None",
                                                "function_call": "None",
                                                "tool_calls": "None"
                                            },
                                            "content_filter_results": {
                                                "hate": {
                                                    "filtered": false,
                                                    "severity": "safe"
                                                },
                                                "protected_material_code": {
                                                    "filtered": false,
                                                    "detected": false
                                                },
                                                "protected_material_text": {
                                                    "filtered": false,
                                                    "detected": false
                                                },
                                                "self_harm": {
                                                    "filtered": false,
                                                    "severity": "safe"
                                                },
                                                "sexual": {
                                                    "filtered": false,
                                                    "severity": "safe"
                                                },
                                                "violence": {
                                                    "filtered": false,
                                                    "severity": "safe"
                                                }
                                            }
                                        }
                                    ],
                                    "created": 1732690909,
                                    "model": "gpt-4-turbo-2024-04-09",
                                    "object": "chat.completion",
                                    "service_tier": "None",
                                    "system_fingerprint": "fp_5b26d85e12",
                                    "usage": {
                                        "completion_tokens": 114,
                                        "prompt_tokens": 98,
                                        "total_tokens": 212,
                                        "completion_tokens_details": "****",
                                        "prompt_tokens_details": "****"
                                    },
                                    "prompt_filter_results": [
                                        {
                                            "prompt_index": 0,
                                            "content_filter_results": {
                                                "hate": {
                                                    "filtered": false,
                                                    "severity": "safe"
                                                },
                                                "jailbreak": {
                                                    "filtered": false,
                                                    "detected": false
                                                },
                                                "self_harm": {
                                                    "filtered": false,
                                                    "severity": "safe"
                                                },
                                                "sexual": {
                                                    "filtered": false,
                                                    "severity": "safe"
                                                },
                                                "violence": {
                                                    "filtered": false,
                                                    "severity": "safe"
                                                }
                                            }
                                        }
                                    ]
                                },
                                "__usage": {
                                    "completion_tokens": 228,
                                    "prompt_tokens": 196,
                                    "total_tokens": 424,
                                    "completion_tokens_details": "****",
                                    "prompt_tokens_details": "****"
                                }
                            },
                            {
                                "name": "AzureOpenAIProcessor",
                                "__time": {
                                    "start": "2024-11-27T08:02:28.930976",
                                    "end": "2024-11-27T08:02:28.932507",
                                    "duration": 1
                                },
                                "signature": "prompty.azure.processor.AzureOpenAIProcessor.invoke",
                                "inputs": {
                                    "data": {
                                        "id": "chatcmpl-AY6LVAPbcvhXm3OCMNCGk8VT7Uo4F",
                                        "choices": [
                                            {
                                                "finish_reason": "stop",
                                                "index": 0,
                                                "logprobs": "None",
                                                "message": {
                                                    "content": "Based on the objects detected, it seems to be a scene involving computer troubleshooting or error diagnosis, potentially mixed with an unconventional method of data storage or display. There are several computer screens displaying a blue screen error, indicating a crash or serious issue with the computer systems. Additionally, there is a screenshot showing numbers, possibly related to coding, data output, or error codes. Surprisingly, there's also a close-up of a rock with computer code on it, suggesting an unusual or creative representation of data or coding concepts, possibly for educational, artistic, or cryptographic purposes.",
                                                    "refusal": "None",
                                                    "role": "assistant",
                                                    "audio": "None",
                                                    "function_call": "None",
                                                    "tool_calls": "None"
                                                },
                                                "content_filter_results": {
                                                    "hate": {
                                                        "filtered": false,
                                                        "severity": "safe"
                                                    },
                                                    "protected_material_code": {
                                                        "filtered": false,
                                                        "detected": false
                                                    },
                                                    "protected_material_text": {
                                                        "filtered": false,
                                                        "detected": false
                                                    },
                                                    "self_harm": {
                                                        "filtered": false,
                                                        "severity": "safe"
                                                    },
                                                    "sexual": {
                                                        "filtered": false,
                                                        "severity": "safe"
                                                    },
                                                    "violence": {
                                                        "filtered": false,
                                                        "severity": "safe"
                                                    }
                                                }
                                            }
                                        ],
                                        "created": 1732690909,
                                        "model": "gpt-4-turbo-2024-04-09",
                                        "object": "chat.completion",
                                        "service_tier": "None",
                                        "system_fingerprint": "fp_5b26d85e12",
                                        "usage": {
                                            "completion_tokens": 114,
                                            "prompt_tokens": 98,
                                            "total_tokens": 212,
                                            "completion_tokens_details": "****",
                                            "prompt_tokens_details": "****"
                                        },
                                        "prompt_filter_results": [
                                            {
                                                "prompt_index": 0,
                                                "content_filter_results": {
                                                    "hate": {
                                                        "filtered": false,
                                                        "severity": "safe"
                                                    },
                                                    "jailbreak": {
                                                        "filtered": false,
                                                        "detected": false
                                                    },
                                                    "self_harm": {
                                                        "filtered": false,
                                                        "severity": "safe"
                                                    },
                                                    "sexual": {
                                                        "filtered": false,
                                                        "severity": "safe"
                                                    },
                                                    "violence": {
                                                        "filtered": false,
                                                        "severity": "safe"
                                                    }
                                                }
                                            }
                                        ]
                                    }
                                },
                                "result": "Based on the objects detected, it seems to be a scene involving computer troubleshooting or error diagnosis, potentially mixed with an unconventional method of data storage or display. There are several computer screens displaying a blue screen error, indicating a crash or serious issue with the computer systems. Additionally, there is a screenshot showing numbers, possibly related to coding, data output, or error codes. Surprisingly, there's also a close-up of a rock with computer code on it, suggesting an unusual or creative representation of data or coding concepts, possibly for educational, artistic, or cryptographic purposes."
                            }
                        ],
                        "result": "Based on the objects detected, it seems to be a scene involving computer troubleshooting or error diagnosis, potentially mixed with an unconventional method of data storage or display. There are several computer screens displaying a blue screen error, indicating a crash or serious issue with the computer systems. Additionally, there is a screenshot showing numbers, possibly related to coding, data output, or error codes. Surprisingly, there's also a close-up of a rock with computer code on it, suggesting an unusual or creative representation of data or coding concepts, possibly for educational, artistic, or cryptographic purposes.",
                        "__usage": {
                            "completion_tokens": 228,
                            "prompt_tokens": 196,
                            "total_tokens": 424,
                            "completion_tokens_details": "****",
                            "prompt_tokens_details": "****"
                        }
                    }
                ],
                "result": "Based on the objects detected, it seems to be a scene involving computer troubleshooting or error diagnosis, potentially mixed with an unconventional method of data storage or display. There are several computer screens displaying a blue screen error, indicating a crash or serious issue with the computer systems. Additionally, there is a screenshot showing numbers, possibly related to coding, data output, or error codes. Surprisingly, there's also a close-up of a rock with computer code on it, suggesting an unusual or creative representation of data or coding concepts, possibly for educational, artistic, or cryptographic purposes.",
                "__usage": {
                    "completion_tokens": 228,
                    "prompt_tokens": 196,
                    "total_tokens": 424,
                    "completion_tokens_details": "****",
                    "prompt_tokens_details": "****"
                }
            }
        ],
        "result": "Based on the objects detected, it seems to be a scene involving computer troubleshooting or error diagnosis, potentially mixed with an unconventional method of data storage or display. There are several computer screens displaying a blue screen error, indicating a crash or serious issue with the computer systems. Additionally, there is a screenshot showing numbers, possibly related to coding, data output, or error codes. Surprisingly, there's also a close-up of a rock with computer code on it, suggesting an unusual or creative representation of data or coding concepts, possibly for educational, artistic, or cryptographic purposes.",
        "__usage": {
            "completion_tokens": 228,
            "prompt_tokens": 196,
            "total_tokens": 424,
            "completion_tokens_details": "****",
            "prompt_tokens_details": "****"
        }
    }
}