{
    "runtime": "python",
    "version": "0.1.37",
    "trace": {
        "name": "run",
        "__time": {
            "start": "2024-11-26T07:02:20.746564",
            "end": "2024-11-26T07:02:23.781949",
            "duration": 3035
        },
        "signature": "__main__.SceneDescriptionAssistant.run",
        "inputs": {
            "question": [
                "a screenshot of a computer",
                "a screenshot of a computer"
            ]
        },
        "__frames": [
            {
                "name": "execute",
                "__time": {
                    "start": "2024-11-26T07:02:20.747069",
                    "end": "2024-11-26T07:02:23.781949",
                    "duration": 3034
                },
                "signature": "prompty.execute",
                "description": "Execute a prompty",
                "inputs": {
                    "prompt": "imagecaption.prompty",
                    "configuration": {},
                    "parameters": {},
                    "inputs": {
                        "question": [
                            "a screenshot of a computer",
                            "a screenshot of a computer"
                        ]
                    },
                    "raw": false,
                    "config_name": "default"
                },
                "__frames": [
                    {
                        "name": "load",
                        "__time": {
                            "start": "2024-11-26T07:02:20.750125",
                            "end": "2024-11-26T07:02:20.751668",
                            "duration": 1
                        },
                        "signature": "prompty.load",
                        "description": "Load a prompty file.",
                        "inputs": {
                            "prompty_file": "C:\\Users\\whaak\\OneDrive\\Code\\ai-examples\\imagecaption-web\\imagecaption.prompty",
                            "configuration": "default"
                        },
                        "result": {
                            "name": "ExamplePrompt",
                            "description": "A prompt that uses context to ground an incoming question",
                            "authors": [
                                "Wesley Haakman"
                            ],
                            "model": {
                                "api": "chat",
                                "configuration": {
                                    "type": "azure_openai",
                                    "azure_endpoint": "https://ai-spirits-wus.openai.azure.com",
                                    "azure_deployment": "gpt-4",
                                    "api_version": "2024-02-15-preview",
                                    "api_key": "********************************"
                                },
                                "parameters": {
                                    "max_tokens": 3000
                                },
                                "response": {}
                            },
                            "sample": {
                                "question": "Frying pan, fondant, hamburger, whisk, and spatula"
                            },
                            "template": {
                                "type": "jinja2",
                                "parser": "prompty"
                            },
                            "file": "C:/Users/whaak/OneDrive/Code/ai-examples/imagecaption-web/imagecaption.prompty",
                            "content": "system:\nYou are an assistant that based on a prompt will describe the situation. The input you receive are objects detected by a computer vision model. Describe what is happening based on the input.\n\nuser:\n{{question}}\n"
                        }
                    },
                    {
                        "name": "prepare",
                        "__time": {
                            "start": "2024-11-26T07:02:20.751668",
                            "end": "2024-11-26T07:02:20.753210",
                            "duration": 1
                        },
                        "signature": "prompty.prepare",
                        "description": "Prepare the inputs for the prompt.",
                        "inputs": {
                            "prompt": {
                                "name": "ExamplePrompt",
                                "description": "A prompt that uses context to ground an incoming question",
                                "authors": [
                                    "Wesley Haakman"
                                ],
                                "model": {
                                    "api": "chat",
                                    "configuration": {
                                        "type": "azure_openai",
                                        "azure_endpoint": "https://ai-spirits-wus.openai.azure.com",
                                        "azure_deployment": "gpt-4",
                                        "api_version": "2024-02-15-preview",
                                        "api_key": "********************************"
                                    },
                                    "parameters": {
                                        "max_tokens": 3000
                                    },
                                    "response": {}
                                },
                                "sample": {
                                    "question": "Frying pan, fondant, hamburger, whisk, and spatula"
                                },
                                "template": {
                                    "type": "jinja2",
                                    "parser": "prompty"
                                },
                                "file": "C:/Users/whaak/OneDrive/Code/ai-examples/imagecaption-web/imagecaption.prompty",
                                "content": "system:\nYou are an assistant that based on a prompt will describe the situation. The input you receive are objects detected by a computer vision model. Describe what is happening based on the input.\n\nuser:\n{{question}}\n"
                            },
                            "inputs": {
                                "question": [
                                    "a screenshot of a computer",
                                    "a screenshot of a computer"
                                ]
                            }
                        },
                        "__frames": [
                            {
                                "name": "Jinja2Renderer",
                                "__time": {
                                    "start": "2024-11-26T07:02:20.751668",
                                    "end": "2024-11-26T07:02:20.753210",
                                    "duration": 1
                                },
                                "signature": "prompty.renderers.Jinja2Renderer.invoke",
                                "inputs": {
                                    "data": {
                                        "question": [
                                            "a screenshot of a computer",
                                            "a screenshot of a computer"
                                        ]
                                    }
                                },
                                "result": "system:\nYou are an assistant that based on a prompt will describe the situation. The input you receive are objects detected by a computer vision model. Describe what is happening based on the input.\n\nuser:\n['a screenshot of a computer', 'a screenshot of a computer']"
                            },
                            {
                                "name": "PromptyChatParser",
                                "__time": {
                                    "start": "2024-11-26T07:02:20.753210",
                                    "end": "2024-11-26T07:02:20.753210",
                                    "duration": 0
                                },
                                "signature": "prompty.parsers.PromptyChatParser.invoke",
                                "inputs": {
                                    "data": "system:\nYou are an assistant that based on a prompt will describe the situation. The input you receive are objects detected by a computer vision model. Describe what is happening based on the input.\n\nuser:\n['a screenshot of a computer', 'a screenshot of a computer']"
                                },
                                "result": [
                                    {
                                        "role": "system",
                                        "content": "You are an assistant that based on a prompt will describe the situation. The input you receive are objects detected by a computer vision model. Describe what is happening based on the input."
                                    },
                                    {
                                        "role": "user",
                                        "content": "['a screenshot of a computer', 'a screenshot of a computer']"
                                    }
                                ]
                            }
                        ],
                        "result": [
                            {
                                "role": "system",
                                "content": "You are an assistant that based on a prompt will describe the situation. The input you receive are objects detected by a computer vision model. Describe what is happening based on the input."
                            },
                            {
                                "role": "user",
                                "content": "['a screenshot of a computer', 'a screenshot of a computer']"
                            }
                        ]
                    },
                    {
                        "name": "run",
                        "__time": {
                            "start": "2024-11-26T07:02:20.753210",
                            "end": "2024-11-26T07:02:23.781949",
                            "duration": 3028
                        },
                        "signature": "prompty.run",
                        "description": "Run the prepared Prompty content against the model.",
                        "inputs": {
                            "prompt": {
                                "name": "ExamplePrompt",
                                "description": "A prompt that uses context to ground an incoming question",
                                "authors": [
                                    "Wesley Haakman"
                                ],
                                "model": {
                                    "api": "chat",
                                    "configuration": {
                                        "type": "azure_openai",
                                        "azure_endpoint": "https://ai-spirits-wus.openai.azure.com",
                                        "azure_deployment": "gpt-4",
                                        "api_version": "2024-02-15-preview",
                                        "api_key": "********************************"
                                    },
                                    "parameters": {
                                        "max_tokens": 3000
                                    },
                                    "response": {}
                                },
                                "sample": {
                                    "question": "Frying pan, fondant, hamburger, whisk, and spatula"
                                },
                                "template": {
                                    "type": "jinja2",
                                    "parser": "prompty"
                                },
                                "file": "C:/Users/whaak/OneDrive/Code/ai-examples/imagecaption-web/imagecaption.prompty",
                                "content": "system:\nYou are an assistant that based on a prompt will describe the situation. The input you receive are objects detected by a computer vision model. Describe what is happening based on the input.\n\nuser:\n{{question}}\n"
                            },
                            "content": [
                                {
                                    "role": "system",
                                    "content": "You are an assistant that based on a prompt will describe the situation. The input you receive are objects detected by a computer vision model. Describe what is happening based on the input."
                                },
                                {
                                    "role": "user",
                                    "content": "['a screenshot of a computer', 'a screenshot of a computer']"
                                }
                            ],
                            "configuration": {},
                            "parameters": {},
                            "raw": false
                        },
                        "__frames": [
                            {
                                "name": "AzureOpenAIExecutor",
                                "__time": {
                                    "start": "2024-11-26T07:02:20.753210",
                                    "end": "2024-11-26T07:02:23.781949",
                                    "duration": 3028
                                },
                                "signature": "prompty.azure.executor.AzureOpenAIExecutor.invoke",
                                "inputs": {
                                    "data": [
                                        {
                                            "role": "system",
                                            "content": "You are an assistant that based on a prompt will describe the situation. The input you receive are objects detected by a computer vision model. Describe what is happening based on the input."
                                        },
                                        {
                                            "role": "user",
                                            "content": "['a screenshot of a computer', 'a screenshot of a computer']"
                                        }
                                    ]
                                },
                                "__frames": [
                                    {
                                        "name": "AzureOpenAI",
                                        "__time": {
                                            "start": "2024-11-26T07:02:20.753210",
                                            "end": "2024-11-26T07:02:21.002327",
                                            "duration": 249
                                        },
                                        "type": "LLM",
                                        "signature": "AzureOpenAI.ctor",
                                        "description": "Azure OpenAI Constructor",
                                        "inputs": {
                                            "azure_endpoint": "https://ai-spirits-wus.openai.azure.com",
                                            "azure_deployment": "gpt-4",
                                            "api_version": "2024-02-15-preview",
                                            "api_key": "********************************"
                                        },
                                        "result": "<openai.lib.azure.AzureOpenAI object at 0x0000024FE405F650>"
                                    },
                                    {
                                        "name": "create",
                                        "__time": {
                                            "start": "2024-11-26T07:02:21.002327",
                                            "end": "2024-11-26T07:02:23.781949",
                                            "duration": 2779
                                        },
                                        "type": "LLM",
                                        "description": "Azure OpenAI Client",
                                        "signature": "AzureOpenAI.chat.completions.create",
                                        "inputs": {
                                            "model": "gpt-4",
                                            "messages": [
                                                {
                                                    "role": "system",
                                                    "content": "You are an assistant that based on a prompt will describe the situation. The input you receive are objects detected by a computer vision model. Describe what is happening based on the input."
                                                },
                                                {
                                                    "role": "user",
                                                    "content": "['a screenshot of a computer', 'a screenshot of a computer']"
                                                }
                                            ],
                                            "max_tokens": 3000
                                        },
                                        "result": {
                                            "id": "chatcmpl-AXivqEU6VBKWFiZDFGo0o5hHHcEkU",
                                            "choices": [
                                                {
                                                    "finish_reason": "stop",
                                                    "index": 0,
                                                    "logprobs": null,
                                                    "message": {
                                                        "content": "The input suggests that there are two screenshots of computers. This could be a scenario where someone is comparing two different computer systems, perhaps reviewing or demonstrating different software applications or user interfaces on each computer. Alternatively, it might be a setup for a tutorial or educational content, showing different steps or settings on each computer screen.",
                                                        "refusal": null,
                                                        "role": "assistant",
                                                        "audio": null,
                                                        "function_call": null,
                                                        "tool_calls": null
                                                    },
                                                    "content_filter_results": {
                                                        "hate": {
                                                            "filtered": false,
                                                            "severity": "safe"
                                                        },
                                                        "self_harm": {
                                                            "filtered": false,
                                                            "severity": "safe"
                                                        },
                                                        "sexual": {
                                                            "filtered": false,
                                                            "severity": "safe"
                                                        },
                                                        "violence": {
                                                            "filtered": false,
                                                            "severity": "safe"
                                                        }
                                                    }
                                                }
                                            ],
                                            "created": 1732600906,
                                            "model": "gpt-4-turbo-2024-04-09",
                                            "object": "chat.completion",
                                            "service_tier": null,
                                            "system_fingerprint": "fp_5b26d85e12",
                                            "usage": {
                                                "completion_tokens": 63,
                                                "prompt_tokens": 61,
                                                "total_tokens": 124,
                                                "completion_tokens_details": null,
                                                "prompt_tokens_details": null
                                            },
                                            "prompt_filter_results": [
                                                {
                                                    "prompt_index": 0,
                                                    "content_filter_results": {
                                                        "hate": {
                                                            "filtered": false,
                                                            "severity": "safe"
                                                        },
                                                        "jailbreak": {
                                                            "filtered": false,
                                                            "detected": false
                                                        },
                                                        "self_harm": {
                                                            "filtered": false,
                                                            "severity": "safe"
                                                        },
                                                        "sexual": {
                                                            "filtered": false,
                                                            "severity": "safe"
                                                        },
                                                        "violence": {
                                                            "filtered": false,
                                                            "severity": "safe"
                                                        }
                                                    }
                                                }
                                            ]
                                        },
                                        "__usage": {
                                            "completion_tokens": 63,
                                            "prompt_tokens": 61,
                                            "total_tokens": 124
                                        }
                                    }
                                ],
                                "result": {
                                    "id": "chatcmpl-AXivqEU6VBKWFiZDFGo0o5hHHcEkU",
                                    "choices": [
                                        {
                                            "finish_reason": "stop",
                                            "index": 0,
                                            "logprobs": "None",
                                            "message": {
                                                "content": "The input suggests that there are two screenshots of computers. This could be a scenario where someone is comparing two different computer systems, perhaps reviewing or demonstrating different software applications or user interfaces on each computer. Alternatively, it might be a setup for a tutorial or educational content, showing different steps or settings on each computer screen.",
                                                "refusal": "None",
                                                "role": "assistant",
                                                "audio": "None",
                                                "function_call": "None",
                                                "tool_calls": "None"
                                            },
                                            "content_filter_results": {
                                                "hate": {
                                                    "filtered": false,
                                                    "severity": "safe"
                                                },
                                                "self_harm": {
                                                    "filtered": false,
                                                    "severity": "safe"
                                                },
                                                "sexual": {
                                                    "filtered": false,
                                                    "severity": "safe"
                                                },
                                                "violence": {
                                                    "filtered": false,
                                                    "severity": "safe"
                                                }
                                            }
                                        }
                                    ],
                                    "created": 1732600906,
                                    "model": "gpt-4-turbo-2024-04-09",
                                    "object": "chat.completion",
                                    "service_tier": "None",
                                    "system_fingerprint": "fp_5b26d85e12",
                                    "usage": {
                                        "completion_tokens": 63,
                                        "prompt_tokens": 61,
                                        "total_tokens": 124,
                                        "completion_tokens_details": "****",
                                        "prompt_tokens_details": "****"
                                    },
                                    "prompt_filter_results": [
                                        {
                                            "prompt_index": 0,
                                            "content_filter_results": {
                                                "hate": {
                                                    "filtered": false,
                                                    "severity": "safe"
                                                },
                                                "jailbreak": {
                                                    "filtered": false,
                                                    "detected": false
                                                },
                                                "self_harm": {
                                                    "filtered": false,
                                                    "severity": "safe"
                                                },
                                                "sexual": {
                                                    "filtered": false,
                                                    "severity": "safe"
                                                },
                                                "violence": {
                                                    "filtered": false,
                                                    "severity": "safe"
                                                }
                                            }
                                        }
                                    ]
                                },
                                "__usage": {
                                    "completion_tokens": 126,
                                    "prompt_tokens": 122,
                                    "total_tokens": 248,
                                    "completion_tokens_details": "****",
                                    "prompt_tokens_details": "****"
                                }
                            },
                            {
                                "name": "AzureOpenAIProcessor",
                                "__time": {
                                    "start": "2024-11-26T07:02:23.781949",
                                    "end": "2024-11-26T07:02:23.781949",
                                    "duration": 0
                                },
                                "signature": "prompty.azure.processor.AzureOpenAIProcessor.invoke",
                                "inputs": {
                                    "data": {
                                        "id": "chatcmpl-AXivqEU6VBKWFiZDFGo0o5hHHcEkU",
                                        "choices": [
                                            {
                                                "finish_reason": "stop",
                                                "index": 0,
                                                "logprobs": "None",
                                                "message": {
                                                    "content": "The input suggests that there are two screenshots of computers. This could be a scenario where someone is comparing two different computer systems, perhaps reviewing or demonstrating different software applications or user interfaces on each computer. Alternatively, it might be a setup for a tutorial or educational content, showing different steps or settings on each computer screen.",
                                                    "refusal": "None",
                                                    "role": "assistant",
                                                    "audio": "None",
                                                    "function_call": "None",
                                                    "tool_calls": "None"
                                                },
                                                "content_filter_results": {
                                                    "hate": {
                                                        "filtered": false,
                                                        "severity": "safe"
                                                    },
                                                    "self_harm": {
                                                        "filtered": false,
                                                        "severity": "safe"
                                                    },
                                                    "sexual": {
                                                        "filtered": false,
                                                        "severity": "safe"
                                                    },
                                                    "violence": {
                                                        "filtered": false,
                                                        "severity": "safe"
                                                    }
                                                }
                                            }
                                        ],
                                        "created": 1732600906,
                                        "model": "gpt-4-turbo-2024-04-09",
                                        "object": "chat.completion",
                                        "service_tier": "None",
                                        "system_fingerprint": "fp_5b26d85e12",
                                        "usage": {
                                            "completion_tokens": 63,
                                            "prompt_tokens": 61,
                                            "total_tokens": 124,
                                            "completion_tokens_details": "****",
                                            "prompt_tokens_details": "****"
                                        },
                                        "prompt_filter_results": [
                                            {
                                                "prompt_index": 0,
                                                "content_filter_results": {
                                                    "hate": {
                                                        "filtered": false,
                                                        "severity": "safe"
                                                    },
                                                    "jailbreak": {
                                                        "filtered": false,
                                                        "detected": false
                                                    },
                                                    "self_harm": {
                                                        "filtered": false,
                                                        "severity": "safe"
                                                    },
                                                    "sexual": {
                                                        "filtered": false,
                                                        "severity": "safe"
                                                    },
                                                    "violence": {
                                                        "filtered": false,
                                                        "severity": "safe"
                                                    }
                                                }
                                            }
                                        ]
                                    }
                                },
                                "result": "The input suggests that there are two screenshots of computers. This could be a scenario where someone is comparing two different computer systems, perhaps reviewing or demonstrating different software applications or user interfaces on each computer. Alternatively, it might be a setup for a tutorial or educational content, showing different steps or settings on each computer screen."
                            }
                        ],
                        "result": "The input suggests that there are two screenshots of computers. This could be a scenario where someone is comparing two different computer systems, perhaps reviewing or demonstrating different software applications or user interfaces on each computer. Alternatively, it might be a setup for a tutorial or educational content, showing different steps or settings on each computer screen.",
                        "__usage": {
                            "completion_tokens": 126,
                            "prompt_tokens": 122,
                            "total_tokens": 248,
                            "completion_tokens_details": "****",
                            "prompt_tokens_details": "****"
                        }
                    }
                ],
                "result": "The input suggests that there are two screenshots of computers. This could be a scenario where someone is comparing two different computer systems, perhaps reviewing or demonstrating different software applications or user interfaces on each computer. Alternatively, it might be a setup for a tutorial or educational content, showing different steps or settings on each computer screen.",
                "__usage": {
                    "completion_tokens": 126,
                    "prompt_tokens": 122,
                    "total_tokens": 248,
                    "completion_tokens_details": "****",
                    "prompt_tokens_details": "****"
                }
            }
        ],
        "result": "The input suggests that there are two screenshots of computers. This could be a scenario where someone is comparing two different computer systems, perhaps reviewing or demonstrating different software applications or user interfaces on each computer. Alternatively, it might be a setup for a tutorial or educational content, showing different steps or settings on each computer screen.",
        "__usage": {
            "completion_tokens": 126,
            "prompt_tokens": 122,
            "total_tokens": 248,
            "completion_tokens_details": "****",
            "prompt_tokens_details": "****"
        }
    }
}